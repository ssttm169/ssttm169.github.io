import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c as l,a as d,d as i,e,f as s,b as t}from"./app-3ea06b8d.js";const p="/posts/the-problem-when-use-post-asset-folder/1.png",g="/posts/the-problem-when-use-post-asset-folder/2.png",c="/posts/the-problem-when-use-post-asset-folder/3.png",m="/posts/the-problem-when-use-post-asset-folder/4.png",h="/posts/the-problem-when-use-post-asset-folder/5.png",u="/posts/the-problem-when-use-post-asset-folder/6.png",f="/posts/the-problem-when-use-post-asset-folder/7.png",b="/posts/the-problem-when-use-post-asset-folder/8.png",v="/posts/the-problem-when-use-post-asset-folder/9.png",x="/posts/the-problem-when-use-post-asset-folder/10.png",_="/posts/the-problem-when-use-post-asset-folder/11.png",y="/posts/the-problem-when-use-post-asset-folder/12.png",w="/posts/the-problem-when-use-post-asset-folder/13.png",z="/posts/the-problem-when-use-post-asset-folder/14.png",k="/posts/the-problem-when-use-post-asset-folder/15.png",T={},j=i("p",null,"使用 Hexo 和 github 搭建博客，真是挺有趣的事情，因为对于我们来说，随便敲几行代码，就可以拥有一个非常漂亮的博客。 但在写作的过程中，使用 Typora(一个 markdown 编辑器)插入图片的时候，非常不顺手。后来了解到用 hexo-asset-image 可以提升我的写作效率,,所以开始吧。",-1),E=t(`<br><h4 id="安装插件" tabindex="-1"><a class="header-anchor" href="#安装插件" aria-hidden="true">#</a> 安装插件</h4><p>在 nodejs 里边安装</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install hexo-asset-image --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div align="center"><figure><img src="`+p+`" alt="安装hexo-asset-image" tabindex="0" loading="lazy"><figcaption>安装hexo-asset-image</figcaption></figure></div><br><p>把在 hexo 根目下的_config.yml 设置</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>post_asset_folder: true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><h4 id="新建文章" tabindex="-1"><a class="header-anchor" href="#新建文章" aria-hidden="true">#</a> 新建文章</h4><p>安装完了之后，新建一篇名为 test-img 的文章</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>hexo new [layout] test-img
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div align="center"><figure><img src="`+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br>',14),N={href:"http://test-img.md",target:"_blank",rel:"noopener noreferrer"},V=t('<div align="center"><figure><img src="'+c+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><p>在里边我放一张名为 me.jpg 的图片, 插入图片的时候，输入</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>![](test-img/me.jpg)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如图所示：</p><div align="center"><figure><img src="`+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><h4 id="发现问题" tabindex="-1"><a class="header-anchor" href="#发现问题" aria-hidden="true">#</a> 发现问题</h4><p>当我回到 nodejs 的时候，发现不对劲~</p><div align="center"><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><p>然后，我去页面看，图片不显示， chrome-devtools 显示，找不到图片。</p><div align="center"><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><p>当我用 hexo g 生成文件的时候，发现报错， 如下：</p><div align="center"><figure><img src="'+f+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><p>FATAL something&#39;s wrong. May be you can find the solution here.....</p><p>Error: ENOENT: no such file or directory, open &#39;D:\\nodejs6.5\\hexo_blog\\public\\20<br> 17-09-29-test-img.html\\me.jpg&#39;</p><p>仔细一看路径是</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>\\public\\2017-09-29-test-img.html\\me.jpg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><p>在 public 文件夹里边也找不到 2017-09-29-test-img.html 文件夹。</p><div align="center"><figure><img src="`+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br>',24),I={href:"http://www.54tianzhisheng.cn/2017/09/23/Guava-limit/",target:"_blank",rel:"noopener noreferrer"},A=t('<div align="center"><figure><img src="'+v+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><p>而且我的路径是 /posts/how-to-use-wechat-debug.html， 所有的 html 都是放到</p><div align="center"><figure><img src="'+x+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><h4 id="找到原因" tabindex="-1"><a class="header-anchor" href="#找到原因" aria-hidden="true">#</a> 找到原因</h4><p>为了满意的我好奇心~~，最终我找到了原因。原来，之前我把 hexo 根目下的_config.yml， 把 permalink 设置为 year-:month-:day-:title.html，hexo 就会在根目下生成 html, 而导致 生成 相关的文件夹失效。</p><div align="center"><figure><img src="'+_+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><p>是 permalink 和 post_asset_folder 这两个参数是相互影响的。</p><br><h4 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案" aria-hidden="true">#</a> 解决方案</h4><p>把 hexo 根目下的_config.yml， 把 permalink 设置为 :year/:month/:day/:title/</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>permalink: :year/:month/:day/:title/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>好，重新 hexo clean &amp;&amp; hexo g , 得到的就是我们要的那种方路径，而且图片显示正常了。</p><div align="center"><figure><img src="`+y+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><p>温馨提示一下：</p><p>用 Typora 插入图片时 输入</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>![](文件名.png)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>的时候，虽然在图片网页上能够正常显示，但是在 Typora 编辑时无法显示，那如何才能让 Typora 正常显示呢? 这里分享一个小技巧：</p><p>在 Typora 中, 选择 Edit &gt; Image Tools &gt; Use Image Root Path， 然后选择你要的相关文件夹，选择之后，在 md 文件头上 会多一个 typora-root-url: xxxx, 好了，现在可以正常显示了。具体操作看下图。</p><div align="center"><figure><img src="`+w+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><div align="center"><figure><img src="'+z+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><div align="center"><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><br><p>最后，分享一下源代码：</p><div class="github-widget" data-repo="ssttm169/hexo_blog"></div>',29);function B(L,P){const a=o("ExternalLinkIcon");return r(),l("div",null,[j,d(" more "),E,i("p",null,[e("现在可以看到 source/_posts 里边，除了有 "),i("a",N,[e("test-img.md"),s(a)]),e("，还多一个文件夹 test-img")]),V,i("p",null,[e("百思不得期解，我了解别人的博客都是的链接都是 域名/年份/月份/文件名 的路径， 比如："),i("a",I,[e("http://www.54tianzhisheng.cn/2017/09/23/Guava-limit/"),s(a)])]),A])}const G=n(T,[["render",B],["__file","the-problem-when-use-post-asset-folder.html.vue"]]);export{G as default};
